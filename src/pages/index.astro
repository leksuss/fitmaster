---
import Layout from '../layouts/Layout.astro';
import udobnoIcon from '../assets/icons/удобно.svg?url';
import bezopasnoIcon from '../assets/icons/безопасно.svg?url';
import effectivnoIcon from '../assets/icons/эффективно.svg?url';

const base = import.meta.env.BASE_URL;

function getLink(path: string) {
  if (path === '') return base;
  return base.endsWith('/') ? `${base}${path}/` : `${base}/${path}/`;
}
---

<Layout title="Влад - Хелс-коуч | Главная">
	<section class="hero">
		<div class="hero-content">
			<div class="hero-text">
				<h1 class="hero-title">Влад — твой хелс-коуч</h1>
				<p class="hero-subtitle">Открой путь к стройному телу с поддержкой и гарантированным результатом, наслаждаясь любимой едой</p>
				<div class="hero-services-grid">
					<div class="hero-service-card easy-mode">
						<h3>INTRO</h3>
						<div class="hero-service-subtitle">Бесплатная консультация</div>
						<p class="hero-service-description">Я не верю в легкий путь без действий и помогу тебе начать.</p>
						<div class="hero-service-price">0 €/20 мин</div>
						<button class="hero-service-button" onclick="openBookingModal('INTRO - Бесплатная консультация')">Записаться</button>
					</div>
					<div class="hero-service-card normal-mode">
						<h3>BALANCE</h3>
						<div class="hero-service-subtitle">Ведение без подсчёта КБЖУ</div>
						<p class="hero-service-description">Гибкий подход к осознанному питанию без подсчёта калорий по методу ладони.</p>
						<div class="hero-service-price">550 €/месяц</div>
						<button class="hero-service-button" onclick="openBookingModal('BALANCE - Онлайн-ведение без подсчёта КБЖУ')">Записаться</button>
					</div>
					<div class="hero-service-card hard-mode">
						<h3>DISCIPLINE</h3>
						<div class="hero-service-subtitle">Ведение с подсчетом КБЖУ</div>
						<p class="hero-service-description">Системный подход для максимального результата с подсчётом и взвешиванием.</p>
						<div class="hero-service-price">450 €/месяц</div>
						<button class="hero-service-button" onclick="openBookingModal('DISCIPLINE - Онлайн-ведение с подсчетом КБЖУ')">Записаться</button>
					</div>
				</div>
			</div>
			<div class="hero-image">
				<img src={`${base.endsWith('/') ? base : base + '/'}photos/main.png`} alt="Влад - Хелс-коуч" class="hero-photo" />
			</div>
		</div>
	</section>

	<section class="about-you">
		<div class="container">
			<h2 class="section-title">Это про тебя, если…</h2>
			<ul class="about-you-list">
				<li>Пытаешься похудеть, но растёт только вес и стресс</li>
				<li>Устал(а) от бесконечных диет и жёстких ограничений</li>
				<li>Надоело стесняться своего тела</li>
				<li>Мечтаешь вернуть лёгкость и энергию в теле</li>
				<li>Сбросить лишние килограммы без стресса и срывов</li>
				<li>Хочешь разобраться в питании и уметь составлять рацион</li>
				<li>Хочешь есть вкусно, сытно и без постоянных ограничений…</li>
				<li>…и сотни других причин, которые привели тебя сюда.</li>
			</ul>
		</div>
	</section>

	<section class="features">
		<div class="container">
			<h2 class="section-title">Почему мой подход подойдёт именно тебе</h2>
			<div class="features-grid">
				<div class="feature-card">
					<div class="feature-icon">
						<img src={udobnoIcon} alt="Удобно" width="32" height="32">
					</div>
					<h3>Удобно</h3>
					<ul>
						<li><strong>Индивидуальный подход</strong> — персональный план под твои цели, образ жизни и график.</li>
						<li><strong>Ешь с удовольствием</strong> — любимые блюда остаются в рационе, еда даёт энергию и настроение, а не чувство вины.</li>
						<li><strong>Онлайн-поддержка</strong> — всегда на связи в твоём часовом поясе, консультации на русском или английском.</li>
						<li><strong>Гибкость</strong> — адаптация под поездки, смены, семейные дела, возможность заморозки.</li>
					</ul>
				</div>
				<div class="feature-card">
					<div class="feature-icon">
						<img src={bezopasnoIcon} alt="Безопасно" width="32" height="32">
					</div>
					<h3>Безопасно</h3>
					<ul>
						<li><strong>Без голодовок</strong> — рацион строится на добавлении приоритетных продуктов, а не жестких ограничениях. Ешь достаточно для насыщения и при этом двигаешься к цели.</li>
						<li><strong>Здоровая потеря веса</strong> — минус 0,5–1% массы тела в неделю без вреда для здоровья.</li>
						<li><strong>Качественный набор мышц</strong> — индивидуальный план тренировок с корректировкой техники под твой уровень.</li>
						<li><strong>Поддержка здоровья</strong> — учёт особенностей ЖКТ, аллергий, противопоказаний и вкусовых предпочтений.</li>
					</ul>
				</div>
				<div class="feature-card">
					<div class="feature-icon">
						<img src={effectivnoIcon} alt="Эффективно" width="32" height="32">
					</div>
					<h3>Эффективно</h3>
					<ul>
						<li><strong>Реальные изменения</strong> — научно обоснованные методы, которые приносят результат.</li>
						<li><strong>Постепенные привычки</strong> — поэтапное внедрение в жизнь в комфортном тебе темпе, без стресса и жёстких рамок.</li>
						<li><strong>Прозрачный прогресс</strong> — регулярные замеры, фото и корректировки плана на основе данных.</li>
						<li><strong>Настоящие кейсы</strong> — примеры клиентов, которые достигли результата в схожих условиях.</li>
					</ul>
				</div>
			</div>
		</div>
	</section>

	<section class="features-cta-section">
		<div class="container">
			<button class="cta-button primary" onclick="openBookingModal('Хочу пробный разбор')">Хочу пробный разбор</button>
		</div>
	</section>

	<section class="testimonials">
		<div class="container">
			<h2 class="section-title">Результаты моих клиентов</h2>
			<div class="testimonials-carousel" id="testimonials-carousel">
				<div class="carousel-container">
					<div class="carousel-track" id="carousel-track">
						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Михаил, 39 лет</strong>
									<span class="result">105 кг / 105 см талия → 81 кг / 87 см талия</span>
								</div>
								<div class="testimonial-content">
									<p>Я честно не думал, что смогу это всё встроить в свою жизнь. Работаю по 10–12 часов, семья, двое детей, ну вы поняли. До этого пробовал и кето и интервальное, работало неплохо, но по итогу постоянно срывало.</p>
									<p>Влад как-то сразу сказал: мы не будем всё ломать, начнём с малого. И правда, я начал просто… есть медленнее. Потом добавил больше белка, за ним пошли овощи и фрукты. Потом что-то ещё и так далее, шаг за шагом. Талия ушла на 18 см — это пздц конечно. Я даже не заметил, как, если честно. Ем досыта, не считаю каждую крошку, ориентируюсь на метод ладони. Очень просто.</p>
									<p>А еще понравилась открытость. Чувствуешь, что тебе не впаривают, а реально хотят помочь. И вот за это респект. Влад, ты крутой. Спасибо.</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Алёна, 29 лет</strong>
									<span class="result">85 кг / 100 см талия → 66 кг / 79 см талия</span>
								</div>
								<div class="testimonial-content">
									<p>Я пришла просто потому что задолбалась. Ни одна одежда не сидела, было ощущение, что моё тело не моё. Ела на эмоциях, заедала стыд и потом ещё больше себя ругала.</p>
									<p>Сначала честно, относилась ко всему скептически. «Ну да, очередной коуч, сейчас будет учить как воду пить». А оказалось всё совсем по-другому, спокойно, понятно и без давления. Влад, как хороший друг, который с тобой на одной волне😊.</p>
									<p>Я не считала калории вообще, хотя Влад сам для себя использует подсчёт (надеюсь не раскрыла тебя🤣). Научилась понимать, что и как по методу ладони. В какой-то момент поняла, что уже не хочется объедаться и даже когда ела сладости, делала это спокойно. Вес ушёл и это вообще не было похоже на диету. Я сейчас 66, и я себе нравлюсь. Я снова стала собой. Влад, спасибо еще раз😚, крепко обнимаю!</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Артём, 33 года</strong>
									<span class="result">94 кг → 83 кг</span>
								</div>
								<div class="testimonial-content">
									<p>Спасибо, Влад. Реально спасибо. Я вообще пришёл, потому что всё задолбало: то срывы, то зажоры, то «ну с понедельника». Спорт был, а толку ноль, вес стоял, живот торчал.</p>
									<p>В какой-то момент понял, что не понимаю, что ем. Постепенно начал взвешивать еду и считать калории. 😆И начал смотреть на еду как на конструктор. Поначалу было влом, честно, казалось, что это херня какая-то, но потом втянулся)</p>
									<p>В итоге вешу уже 83 кг сейчас и продолжаю двигаться сам. Спасибо! Буду рекомендовать своим близким, есть парочка на примете😆</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Юля, 26 лет</strong>
									<span class="result">78 кг → 64 кг</span>
								</div>
								<div class="testimonial-content">
									<p>Я никогда не думала, что вообще кому-то напишу отзыв. Но это сработало. Влад, ты очень круто всё объясняешь. Без давления, без вот этого «а ты точно всё записала?» просто спокойно и по делу.</p>
									<p>Я научилась есть без чувства вины. Вот реально. Раньше съела булочку и потом весь день себя гнобила. Сейчас ем и никаких угрызений совести). Много овощей, белка, но и сладкое влезает. Теперь я понимаю, как балансировать. И впервые я не хочу всё бросить! Спасибааа!</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Сергей, 41 год</strong>
									<span class="result">115 кг → 93 кг</span>
								</div>
								<div class="testimonial-content">
									<p>Влад, бро, если бы ты мне год назад сказал, что я похудею на 22 кило без диет, я бы поржал. А теперь вот я приближаюсь к 90, без качалки, просто с нормальной едой и шагами. Работа сидячяя, сижу почти весь день, и всё равно каким-то хреном нашагиваю свои 10 000.</p>
									<p>Твое правило «встал - походи!» меня прям изменило) Раньше хавал как попало, а сейчас даже фастфуд залетает, да порции другие и без кока колы, но удовольствия даже больше! Спасибо, бро</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Вика, 30 лет</strong>
									<span class="result">82 кг → 67 кг</span>
								</div>
								<div class="testimonial-content">
									<p>Сначала мне всё это казалось каким-то странным, типа ладонь, объёмы, какие-то шаги еще… Я привыкла к диетам, «1200 калорий и берпи», вот это понятно.</p>
									<p>А тут я ем макароны с курицей вечером, и мне говорят - хорошо. ЧТО??</p>
									<p>За первый месяц ушло почти 4 кг и я не заметила потеряла остальные. Сейчас 67, и впервые за 5 лет мне нравится моё отражение. Я не считаю ккал, не взвешиваю ничего, а просто понимаю, как работает еда.</p>
									<p>Влад, не просто тренер. Он как нормальный человек, который знает, что у тебя может быть плохой день, ПМС, ДР у подруги или шоколад в ящике. И это ок.</p>
									<p>Спасибо, Влад. Честно, ты вернул мне спокойствие.</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Лена, 44 года</strong>
									<span class="result">88 кг → 72 кг</span>
								</div>
								<div class="testimonial-content">
									<p>Я вообще не думала, что смогу сбросить. Всё набиралось, ничего не работало. Но Влад сделал какую-то магию, хотя нет, не магию. Просто дал понятную систему, без заморочек.</p>
									<p>Мне нравилось, что всё спокойно. Можно спросить, можно пожаловаться, можно сорваться и тебя не разнесут, а поддержат. Я похудела на 16 кг. Мой муж тоже начал включаться и питаться со мной. Мы теперь реально другие люди.</p>
									<p>Влад, ты спаситель. Это я без пафоса😌</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Тимур, 29 лет</strong>
									<span class="result">76 кг → 78 кг, но с прессом и спиной</span>
								</div>
								<div class="testimonial-content">
									<p>Я никогда не хотел худеть, но хотел быть сухим. Типа, знаешь, чтобы согнать немного жирка и нарастить мясца. Влад помог мне настроить питание под силовые. Без перетренов, без лосиных доз жрачки. Я ел и набирал не жир, а мясо. Сейчас +2 кг, но пузо стало меньше. Хвала рекомпозиции😁</p>
									<p>И я научился держать форму и считать кбжу. Всё по делу: много белка, овощи, фрукты, тонна картохи, но и сникерс не под запретом. Это кайф.</p>
									<p>А ещё Влад по технике мне помог. Я приседаю глубже и спину не рву.</p>
									<p>Реально, кто хочет не превратиться в свинью, а собрать тело, то вам сюда.</p>
								</div>
							</div>
						</div>

						<div class="testimonial-slide">
							<div class="testimonial-card">
								<div class="testimonial-header">
									<strong>Марина, 36 лет</strong>
									<span class="result">74 кг → 65 кг</span>
								</div>
								<div class="testimonial-content">
									<p>Я вела трекер в ФэтСикрете, но не очень понимала, зачем. А еще оказалось, что совершала типичные ошибки😅 Оказалось, что порции в ФэтСикрете у всех свои.
Влад помог разобраться с этим и связать это с реальностью. Теперь я мастер по Фэтсикрету!🤣</p>
									<p>Не знаю как другим, но я с собой везде таскаю складные весы. Хотя Влад и говорил, что это не обязательно, но я кайфую от понимания того, сколько я ем🔥</p>
									<p>Влад, спасибо, что ты не просто коуч, а человек с большой буквы!</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<button class="carousel-btn prev" id="prev-btn" aria-label="Предыдущий отзыв">‹</button>
				<button class="carousel-btn next" id="next-btn" aria-label="Следующий отзыв">›</button>
				
				<div class="carousel-controls">
					<div class="carousel-indicators" id="carousel-indicators"></div>
				</div>
			</div>
		</div>
	</section>

	<section class="cta-section">
		<div class="container">
			<div class="cta-content">
				<h2>Готов начать свое преображение?</h2>
				<div class="cta-buttons">
					<button class="cta-button primary" onclick="openBookingModal('Хочу пробный разбор')">Хочу пробный разбор</button>
					<a href={getLink('services')} class="cta-button secondary">Мои услуги</a>
					<a href={getLink('about')} class="cta-button secondary">Обо мне</a>
				</div>
			</div>
		</div>
	</section>
</Layout>

<style>
	.hero {
		background: var(--bg-color);
		color: var(--text-color);
		padding: 10px 0 80px;
		min-height: 600px;
		display: flex;
		align-items: center;
		border-bottom: 1px solid var(--border-color);
	}

	.hero-content {
		max-width: 1400px;
		margin: 0 auto;
		padding: 0 20px;
		display: flex;
		flex-direction: row;
		align-items: center;
		gap: 60px;
	}

	.hero-text {
		flex: 1;
		text-align: left;
	}

	.hero-title {
		font-size: clamp(1.75rem, 3.15vw, 3.15rem);
		font-weight: 300;
		line-height: 1.1;
		margin-bottom: 20px;
		letter-spacing: -2px;
		animation: fadeInUp 1s ease-out;
		text-align: left;
		max-width: 900px;
	}

	.hero-subtitle {
		font-size: clamp(1rem, 1.8vw, 1.8rem);
		font-weight: 300;
		line-height: 1.4;
		margin-bottom: 62px;
		color: var(--text-light);
		animation: fadeInUp 1s ease-out 0.2s both;
		text-align: left;
		max-width: 900px;
	}

	.hero-services-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 20px;
		animation: fadeInUp 1s ease-out 0.4s both;
	}

	.hero-service-card {
		background: white;
		padding: 28px 20px;
		border-radius: 2px;
		text-align: center;
		border: 1px solid var(--border-color);
		transition: background 0.4s ease;
		display: flex;
		flex-direction: column;
		min-height: 280px;
		cursor: pointer;
	}

	.hero-service-card:hover {
		background: var(--bg-color);
	}

	.hero-service-card h3 {
		font-size: 2rem;
		font-weight: 300;
		color: var(--text-color);
		margin-top: 5px;
		margin-bottom: 16px;
		letter-spacing: -1px;
	}

	.hero-service-subtitle {
		font-size: 11px;
		font-weight: 500;
		color: var(--text-light);
		margin-bottom: 8px;
		letter-spacing: 1.5px;
		text-transform: uppercase;
	}

	.hero-service-description {
		font-size: 15px;
		font-weight: 300;
		color: var(--text-light);
		line-height: 1.6;
		letter-spacing: -0.2px;
		margin-bottom: 15px;
		flex-grow: 1;
		min-height: 60px;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.hero-service-price {
		font-size: 1.4rem;
		font-weight: 300;
		color: var(--accent-copper);
		margin-bottom: 15px;
		margin-top: auto;
	}

	.hero-service-button {
		width: 100%;
		padding: 20px 48px;
		background: var(--text-color);
		color: var(--bg-color);
		border: none;
		border-radius: 2px;
		font-size: 13px;
		font-weight: 500;
		cursor: pointer;
		transition: background-color 0.3s ease;
		font-family: inherit;
		margin-top: auto;
		letter-spacing: 1px;
		text-transform: uppercase;
	}

	.hero-service-button:hover {
		background: var(--accent-copper);
		color: white;
	}

	.cta-button {
		display: inline-block;
		background: var(--text-color);
		color: var(--bg-color);
		padding: 20px 48px;
		border-radius: 2px;
		text-decoration: none;
		font-weight: 500;
		font-size: 13px;
		transition: opacity 0.3s ease;
		animation: fadeInUp 1s ease-out 0.4s both;
		letter-spacing: 1px;
		text-transform: uppercase;
	}

	.cta-button:hover {
		opacity: 0.85;
	}

	.hero-image {
		flex: 0 0 clamp(127px, 12.62vw, 168px);
		display: flex;
		align-items: flex-end;
		justify-content: center;
		padding: 0 clamp(10px, 5vw, 150px);
	}

	.hero-photo {
		width: 100%;
		height: auto;
		object-fit: cover;
		border-radius: 20px;
	}

	.container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 20px;
	}

	.section-title {
		font-size: 3rem;
		font-weight: 300;
		text-align: center;
		margin-bottom: 50px;
		color: var(--text-color);
		letter-spacing: -1.5px;
		line-height: 1.2;
	}

	.about-you {
		padding: 80px 0;
		background: white;
	}

	.about-you-list {
		max-width: 800px;
		margin: 0 auto;
		list-style: none;
		padding: 0;
	}

	.about-you-list li {
		display: flex;
		align-items: flex-start;
		margin-bottom: 0;
		padding: 24px 16px;
		background: transparent;
		border-bottom: 1px solid var(--border-color);
		font-size: 15px;
		font-weight: 300;
		line-height: 1.6;
		color: var(--text-color);
		letter-spacing: -0.2px;
	}

	.about-you-list li::before {
		content: "";
		width: 32px;
		height: 1px;
		background-color: var(--accent-copper);
		margin-right: 16px;
		margin-top: 12px;
		flex-shrink: 0;
	}

	@media (max-width: 768px) {
		.about-you {
			padding: 40px 0;
		}

		.about-you-list li {
			margin-bottom: 12px;
			padding: 14px 16px;
			font-size: 0.95rem;
			line-height: 1.4;
		}

		.about-you-list li::before {
			font-size: 1.1rem;
			margin-right: 12px;
		}
	}

	.features {
		padding: 80px 0;
		background: var(--bg-warm);
	}

	.features-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 30px;
	}

	.features-cta-section {
		padding: 0;
		background: var(--bg-warm);
		text-align: center;
	}

	.cta-button.primary {
		background: var(--accent-normal);
		color: white;
		font-size: 1.1rem;
		padding: 18px 40px;
		border: none;
		cursor: pointer;
		font-family: inherit;
		transition: background-color 0.3s ease;
	}

	.cta-button.primary:hover {
		background: var(--accent-copper);
	}

	.feature-card {
		background: white;
		padding: 30px 25px;
		border-radius: 2px;
		text-align: center;
		border: 1px solid var(--border-color);
		transition: background 0.4s ease;
		cursor: pointer;
	}

	.feature-card:hover {
		background: var(--bg-color);
	}

	.feature-icon {
		margin-bottom: 16px;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	.feature-card h3 {
		font-size: 2rem;
		font-weight: 300;
		margin-bottom: 12px;
		color: var(--text-color);
		letter-spacing: -1px;
	}

	.feature-card p {
		color: var(--text-light);
		line-height: 1.6;
	}

	.feature-card ul {
		list-style: none;
		padding: 0;
		margin: 0;
		text-align: left;
	}

	.feature-card ul li {
		margin-bottom: 10px;
		padding-left: 0;
		position: relative;
		color: var(--text-light);
		line-height: 1.6;
		font-size: 15px;
		font-weight: 300;
		letter-spacing: -0.2px;
	}

	.feature-card ul li strong {
		color: var(--text-color);
		font-weight: 400;
		font-size: 1em;
	}

	.testimonials {
		padding: 80px 0;
		background: var(--bg-warm);
	}

	.testimonials-carousel {
		position: relative;
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 80px;
	}

	.testimonials-carousel .carousel-btn {
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
		z-index: 10;
		background: white;
		color: var(--text-color);
		border: 1px solid var(--border-color);
	}

	.testimonials-carousel .carousel-btn:hover {
		background: var(--bg-color);
		color: var(--accent-copper);
		transform: translateY(-50%);
	}

	.testimonials-carousel .carousel-btn.prev {
		left: 10px;
	}

	.testimonials-carousel .carousel-btn.next {
		right: 10px;
	}

	.carousel-container {
		overflow: hidden;
		position: relative;
		padding: 20px 0;
		margin: -20px 0;
	}

	.carousel-track {
		display: flex;
		transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
		will-change: transform;
	}

	.testimonial-slide {
		min-width: calc(60% - 30px);
		flex: 0 0 calc(60% - 30px);
		margin: 0 15px;
		opacity: 0.3;
		transform: scale(0.85);
		transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
	}

	.testimonial-slide.active {
		opacity: 1;
		transform: scale(1);
	}

	.testimonial-card {
		background: white;
		padding: 40px;
		margin: 0;
		border-radius: 2px;
		border: 1px solid var(--border-color);
		min-height: 400px;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
	}

	.testimonial-header {
		margin-bottom: 20px;
		padding-bottom: 15px;
		border-bottom: 1px solid var(--border-color);
	}

	.testimonial-header strong {
		display: block;
		font-size: 1.3rem;
		color: var(--text-color);
		margin-bottom: 8px;
		font-weight: 400;
	}

	.result {
		display: block;
		color: var(--text-light);
		font-weight: 500;
		font-size: 0.95rem;
		font-style: italic;
		margin-top: 5px;
		opacity: 0.8;
	}

	.testimonial-content {
		flex-grow: 1;
		color: var(--text-light);
		line-height: 1.6;
		font-size: 1rem;
	}

	.testimonial-content p {
		margin-bottom: 15px;
	}

	.testimonial-content p:last-child {
		margin-bottom: 0;
	}







	.carousel-controls {
		display: flex;
		align-items: center;
		justify-content: center;
		margin-top: 30px;
		padding: 0 20px;
	}

	.carousel-btn {
		background: white;
		color: var(--text-color);
		border: 1px solid var(--border-color);
		width: 50px;
		height: 50px;
		border-radius: 2px;
		font-size: 24px;
		font-weight: 300;
		cursor: pointer;
		transition: all 0.3s ease;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.carousel-btn:hover {
		background: var(--bg-color);
		color: var(--accent-copper);
	}

	.carousel-btn:disabled {
		background: #ccc;
		cursor: not-allowed;
		transform: none;
		box-shadow: none;
	}

	.carousel-indicators {
		display: flex;
		gap: 10px;
		align-items: center;
	}

	.indicator {
		width: 8px;
		height: 8px;
		border-radius: 2px;
		background: var(--border-color);
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.indicator.active {
		background: var(--accent-copper);
		width: 24px;
	}

	.indicator:hover {
		background: var(--accent-copper);
		opacity: 0.7;
	}

	.cta-section {
		background: var(--text-color);
		color: var(--bg-color);
		padding: 80px 0;
		text-align: center;
	}

	.cta-content h2 {
		font-size: 3rem;
		font-weight: 300;
		margin-bottom: 15px;
		letter-spacing: -1.5px;
	}

	.cta-content p {
		font-size: 1.2rem;
		margin-bottom: 30px;
		opacity: 0.9;
	}

	.cta-buttons {
		display: flex;
		gap: 15px;
		justify-content: center;
		flex-wrap: wrap;
	}

	.cta-section .cta-button.primary {
		background: var(--bg-color);
		color: var(--text-color);
		transition: background-color 0.3s ease;
		font-size: 1rem;
	}

	.cta-section .cta-button.primary:hover {
		background: var(--accent-copper);
		color: white;
	}

	.cta-section .cta-button.secondary {
		background: transparent;
		border: 1px solid var(--border-color);
		color: var(--bg-color);
		transition: background-color 0.3s ease, color 0.3s ease;
		font-size: 1rem;
	}

	.cta-section .cta-button.secondary:hover {
		background: var(--accent-copper);
		color: white;
		border-color: var(--accent-copper);
	}

	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(30px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes fadeIn {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	@keyframes pulse {
		0%, 100% {
			transform: scale(1);
		}
		50% {
			transform: scale(1.05);
		}
	}

	@media (max-width: 768px) {
		.hero {
			padding: 30px 0 100px;
		}

		.hero-content {
			flex-direction: column;
			gap: 30px;
			position: relative;
		}

		.hero-text {
			text-align: left;
			position: relative;
			z-index: 2;
			padding-left: 0;
		}

		.hero-title {
			font-size: clamp(1.65rem, 6.61vw, 2.25rem);
			line-height: 1.9;
			margin-top: 20px;
			margin-bottom: 15px;
			text-align: left;
			position: relative;
			letter-spacing: 0;
		}

		.hero-subtitle {
			font-size: clamp(0.84rem, 3.36vw, 1.14rem);
			line-height: 1.5;
			margin-bottom: 40px;
			max-width: 60%;
		}

		.hero-image {
			position: absolute;
			right: 20px;
			top: -10px;
			width: clamp(43px, 11.78vw, 65px);
			opacity: 1;
			z-index: 1;
			padding: 0;
		}

		.hero-photo {
			width: 100%;
			height: auto;
		}

		.hero-services-grid {
			grid-template-columns: 1fr;
			gap: 15px;
		}

		.hero-service-card {
			padding: 10px 7.5px;
		}

		.hero-service-card h3 {
			font-size: 1.2rem;
			margin-top: 5px;
		}

		.hero-service-subtitle {
			font-size: 0.85rem;
		}

		.hero-service-description {
			font-size: 0.9rem;
		}

		.hero-service-price {
			font-size: 1.2rem;
		}

		.hero-service-button {
			padding: 10px 15px;
			font-size: 1rem;
		}

		.section-title {
			font-size: 2rem;
		}

		.testimonials-carousel {
			max-width: 100%;
			padding: 0;
		}

		/* Показываем стрелки на мобильных поверх контента */
		.testimonials-carousel .carousel-btn.prev,
		.testimonials-carousel .carousel-btn.next {
			display: flex;
			width: 60px;
			height: 120px;
			background: transparent;
			border: none;
			font-size: 7rem;
			z-index: 10;
			box-shadow: none;
			color: rgba(0, 0, 0, 0.4);
		}

		.testimonials-carousel .carousel-btn.prev {
			left: -30px;
		}

		.testimonials-carousel .carousel-btn.next {
			right: -30px;
		}

		.carousel-container {
			overflow-x: auto;
			overflow-y: hidden;
			-webkit-overflow-scrolling: touch;
			scroll-snap-type: x mandatory;
			scroll-behavior: smooth;
			padding: 0;
			margin: 0;
			scrollbar-width: none;
			-ms-overflow-style: none;
		}

		.carousel-container::-webkit-scrollbar {
			display: none;
		}

		.carousel-track {
			transition: none;
			transform: none !important;
			padding: 0;
			gap: 15px;
		}

		.testimonial-slide {
			min-width: 100%;
			flex: 0 0 100%;
			margin: 0;
			padding: 15px 0;
			opacity: 1;
			transform: scale(1);
			scroll-snap-align: center;
			scroll-snap-stop: always;
		}

		.testimonial-card {
			padding: 30px 25px;
			min-height: auto;
			background: #FAFAF8;
			/* iOS Safari: box-shadow + overflow clipping может давать длинные артефакты.
			   Заменяем на drop-shadow и жёстко обрезаем края по радиусу. */
			box-shadow: none;
			filter: drop-shadow(0 3px 12px rgba(0, 0, 0, 0.08));
			background-clip: padding-box;
			clip-path: inset(0 round 20px);
		}

		.testimonial-header strong {
			font-size: 1.2rem;
		}

		.result {
			font-size: 0.9rem;
			padding: 6px 12px;
		}

		.testimonial-content p {
			font-size: 1rem;
		}

		.carousel-controls {
			margin-top: 25px;
			gap: 15px;
		}

		/* Увеличиваем размер индикаторов на мобильных для лучшей видимости */
		.carousel-indicators {
			gap: 12px;
		}

		.indicator {
			width: 8px;
			height: 8px;
		}

		.indicator.active {
			width: 24px;
			border-radius: 4px;
		}

		.carousel-btn {
			width: 45px;
			height: 45px;
			font-size: 20px;
		}

		.cta-content h2 {
			font-size: 2rem;
		}

		.cta-buttons {
			flex-direction: column;
			align-items: center;
		}

		.cta-button {
			width: 100%;
			max-width: 300px;
		}
	}
</style>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		class TestimonialsCarousel {
			private root: HTMLElement;
			private container: HTMLElement | null;
			private track: HTMLElement;
			private prevBtn: HTMLButtonElement;
			private nextBtn: HTMLButtonElement;
			private indicatorsContainer: HTMLElement;
			private originalSlides: NodeListOf<HTMLElement>;
			private originalSlideCount: number;
			private currentIndex = 0;
			private isAutoPlaying = true;
			private isTransitioning = false;
			private autoPlayInterval?: ReturnType<typeof setInterval>;
			private resizeDebounce?: ReturnType<typeof setTimeout>;
			private resizeObserver?: ResizeObserver;

			constructor(root: HTMLElement) {
				this.root = root;
				this.track = document.getElementById('carousel-track') as HTMLElement;
				this.container = this.root.querySelector('.carousel-container');
				this.prevBtn = document.getElementById('prev-btn') as HTMLButtonElement;
				this.nextBtn = document.getElementById('next-btn') as HTMLButtonElement;
				this.indicatorsContainer = document.getElementById('carousel-indicators') as HTMLElement;
				this.originalSlides = this.track.querySelectorAll('.testimonial-slide') as NodeListOf<HTMLElement>;
				this.originalSlideCount = this.originalSlides.length;
			}

			init() {
				this.createInfiniteLoop();
				this.createIndicators();
				this.updateIndicators();
				this.updatePosition(false);
				this.updateContainerHeight();
				this.initMobileScroll();
				this.bindEvents();
				this.startAutoPlay();
			}

			private initMobileScroll() {
				const isMobile = window.innerWidth <= 768;
				if (isMobile && this.container) {
					// Устанавливаем начальную позицию скролла на первый оригинальный слайд
					const slideWidth = this.container.scrollWidth / (this.originalSlideCount + 2);
					this.container.scrollLeft = slideWidth;
				}
			}

			private createInfiniteLoop() {
				const firstClone = this.originalSlides[0].cloneNode(true) as HTMLElement;
				const lastClone = this.originalSlides[this.originalSlideCount - 1].cloneNode(true) as HTMLElement;
				firstClone.classList.add('clone');
				lastClone.classList.add('clone');
				this.track.appendChild(firstClone);
				this.track.insertBefore(lastClone, this.originalSlides[0]);
				this.currentIndex = 1;
			}

			private createIndicators() {
				for (let i = 0; i < this.originalSlideCount; i++) {
					const indicator = document.createElement('div');
					indicator.classList.add('indicator');
					if (i === 0) indicator.classList.add('active');
					indicator.addEventListener('click', () => this.goTo(i + 1));
					this.indicatorsContainer.appendChild(indicator);
				}
			}

			private updateContainerHeight() {
				const isMobile = window.innerWidth <= 768;
				if (!isMobile) { if (this.container) this.container.style.height = 'auto'; return; }
				if (!this.container) return;
				const activeSlide = this.track.querySelector('.testimonial-slide.active') as HTMLElement | null;
				if (!activeSlide) return;
				this.container.style.height = `${activeSlide.offsetHeight}px`;
			}

			private updatePosition(withTransition = true) {
				this.track.style.transition = withTransition ? 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)' : 'none';
				const isMobile = window.innerWidth <= 768;
				const offset = isMobile ? -this.currentIndex * 100 : -this.currentIndex * 60 + 20;
				this.track.style.transform = `translateX(${offset}%)`;
				const allSlides = this.track.querySelectorAll('.testimonial-slide') as NodeListOf<HTMLElement>;
				allSlides.forEach((slide, index) => slide.classList.toggle('active', index === this.currentIndex));
				this.updateContainerHeight();
			}

			private updateIndicators() {
				const indicators = this.indicatorsContainer.querySelectorAll('.indicator');
				let activeIndex = this.currentIndex - 1;
				if (this.currentIndex === 0) activeIndex = this.originalSlideCount - 1;
				if (this.currentIndex === this.originalSlideCount + 1) activeIndex = 0;
				indicators.forEach((indicator, i) => indicator.classList.toggle('active', i === activeIndex));
			}

			private goTo(index: number, withTransition = true) {
				if (this.isTransitioning) return;
				this.currentIndex = index;
				if (withTransition) {
					this.isTransitioning = true;
					const onEnd = () => {
						this.track.removeEventListener('transitionend', onEnd);
						this.handleInfiniteLoop();
						this.isTransitioning = false;
					};
					this.track.addEventListener('transitionend', onEnd, { once: true });
				}
				this.updatePosition(withTransition);
				this.updateIndicators();
			}

			private isMobileView(): boolean { return window.innerWidth <= 768; }

			private next = () => {
				if (this.isMobileView() && this.container) {
					const slideWidth = this.container.scrollWidth / (this.originalSlideCount + 2);
					const currentSlide = Math.round(this.container.scrollLeft / slideWidth);
					const target = currentSlide + 1;
					this.container.scrollTo({ left: target * slideWidth, behavior: 'smooth' });
					this.updateMobileIndicators(target);
					return;
				}
				this.goTo(this.currentIndex + 1);
			};

			private prev = () => {
				if (this.isMobileView() && this.container) {
					const slideWidth = this.container.scrollWidth / (this.originalSlideCount + 2);
					const currentSlide = Math.round(this.container.scrollLeft / slideWidth);
					const target = currentSlide - 1;
					this.container.scrollTo({ left: target * slideWidth, behavior: 'smooth' });
					this.updateMobileIndicators(target);
					return;
				}
				this.goTo(this.currentIndex - 1);
			};

			private handleInfiniteLoop() {
				// Переход с последнего клона (индекс originalSlideCount + 1) на первый оригинальный слайд (индекс 1)
				if (this.currentIndex === this.originalSlideCount + 1) {
					this.currentIndex = 1;
					this.updatePosition(false);
					this.updateIndicators();
				}
				// Переход с первого клона (индекс 0) на последний оригинальный слайд (индекс originalSlideCount)
				else if (this.currentIndex === 0) {
					this.currentIndex = this.originalSlideCount;
					this.updatePosition(false);
					this.updateIndicators();
				}
			}

			private startAutoPlay() {
				if (this.isAutoPlaying) {
					this.autoPlayInterval = setInterval(this.next, 5000);
				}
			}

			private stopAutoPlay = () => { if (this.autoPlayInterval) clearInterval(this.autoPlayInterval); };

			private bindEvents() {
				this.prevBtn.addEventListener('click', () => { this.prev(); this.stopAutoPlay(); this.isAutoPlaying = false; });
				this.nextBtn.addEventListener('click', () => { this.next(); this.stopAutoPlay(); this.isAutoPlaying = false; });
				this.root.addEventListener('mouseenter', this.stopAutoPlay);
				this.root.addEventListener('mouseleave', () => { if (this.isAutoPlaying) this.startAutoPlay(); });
				document.addEventListener('keydown', (e: KeyboardEvent) => {
					if (e.key === 'ArrowLeft') { this.prev(); this.stopAutoPlay(); this.isAutoPlaying = false; }
					if (e.key === 'ArrowRight') { this.next(); this.stopAutoPlay(); this.isAutoPlaying = false; }
				});
				let startX = 0;
				let endX = 0;
				this.root.addEventListener('touchstart', (e: TouchEvent) => { startX = e.touches[0].clientX; }, { passive: true });
				this.root.addEventListener('touchend', (e: TouchEvent) => {
					endX = e.changedTouches[0].clientX;
					const diff = startX - endX;
					if (Math.abs(diff) > 50) { diff > 0 ? this.next() : this.prev(); this.stopAutoPlay(); this.isAutoPlaying = false; }
				}, { passive: true });

				// Infinite scroll для мобильных устройств
				if (this.container) {
					let isScrolling = false;
					this.container.addEventListener('scroll', () => {
						if (isScrolling) return;
						const isMobile = window.innerWidth <= 768;
						if (!isMobile || !this.container) return;

						const scrollLeft = this.container.scrollLeft;
						const slideWidth = this.container.scrollWidth / (this.originalSlideCount + 2);
						const currentSlide = Math.round(scrollLeft / slideWidth);

						// Проверяем, достигли ли мы клона в конце
						if (currentSlide >= this.originalSlideCount + 1) {
							isScrolling = true;
							this.container.style.scrollBehavior = 'auto';
							this.container.scrollLeft = slideWidth;
							setTimeout(() => {
								if (this.container) this.container.style.scrollBehavior = 'smooth';
								isScrolling = false;
							}, 50);
						}
						// Проверяем, достигли ли мы клона в начале
						else if (currentSlide <= 0) {
							isScrolling = true;
							this.container.style.scrollBehavior = 'auto';
							this.container.scrollLeft = slideWidth * this.originalSlideCount;
							setTimeout(() => {
								if (this.container) this.container.style.scrollBehavior = 'smooth';
								isScrolling = false;
							}, 50);
						}

						// Обновляем индикаторы
						this.updateMobileIndicators(currentSlide);
					}, { passive: true });
				}

				window.addEventListener('resize', () => {
					clearTimeout(this.resizeDebounce);
					this.resizeDebounce = setTimeout(() => { this.updatePosition(false); this.updateContainerHeight(); }, 100);
				});
				if ('ResizeObserver' in window && this.container) {
					this.resizeObserver = new ResizeObserver(() => this.updateContainerHeight());
					this.resizeObserver.observe(this.container);
				}
			}

			private updateMobileIndicators(currentSlide: number) {
				const indicators = this.indicatorsContainer.querySelectorAll('.indicator');
				let activeIndex = currentSlide - 1;
				if (currentSlide === 0) activeIndex = this.originalSlideCount - 1;
				if (currentSlide === this.originalSlideCount + 1) activeIndex = 0;
				indicators.forEach((indicator, i) => indicator.classList.toggle('active', i === activeIndex));
			}
		}

		const root = document.getElementById('testimonials-carousel') as HTMLElement | null;
		if (!root) return;
		new TestimonialsCarousel(root).init();
	});
</script>
