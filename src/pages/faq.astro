---
import Layout from '../layouts/Layout.astro';
import nutritionIcon from '../assets/icons/pitanie_i_pohudenie.svg?url';
import trainingIcon from '../assets/icons/trenirovki_aktivnost.svg?url';
import healthIcon from '../assets/icons/zdorove_i_privychki.svg?url';
import termsIcon from '../assets/icons/usloviya_i_garantii.svg?url';

const base = import.meta.env.BASE_URL;

function getLink(path: string) {
  if (path === '') return base;
  return base.endsWith('/') ? `${base}${path}/` : `${base}/${path}/`;
}

const faqData = {
  'Питание и похудение': [
    {
      q: 'Можно ли похудеть без подсчёта калорий?',
      a: 'Можно, например, по методу ладони — один из моих вариантов ведения.'
    },
    {
      q: 'Правда ли, что для похудения достаточно дефицита калорий, и не важно, что именно есть?',
      a: 'Да, это правда, но лучше так не делать, так как еда влияет на здоровье, насыщение и энергию.'
    },
    {
      q: 'Какой дефицит калорий нужен, чтобы безопасно сбрасывать вес?',
      a: 'Обычно это 15–25% от твоей нормы калорий.'
    },
    {
      q: 'Сколько граммов белка мне нужно в день?',
      a: 'Примерно 1,6–2,2 г на 1 кг веса тела.'
    },
    {
      q: 'Нужно ли полностью исключить углеводы, чтобы похудеть?',
      a: 'Нет. Ты худеешь от дефицита калорий, а не от отказа от макронутриента (углеводов).'
    },
    {
      q: 'Стоит ли отказываться от сладкого и мучного во время диеты?',
      a: 'Короткий ответ — нет. Расставив правильно приоритеты в питании, количество сладкого или мучного сократится само собой.'
    },
    {
      q: 'Есть ли "запрещённые" продукты, которые нельзя есть при похудении?',
      a: 'Запрещённых продуктов нет.'
    },
    {
      q: 'Можно ли худеть, не отказываясь от любимой еды в разумных пределах?',
      a: 'Да, конечно. Вписать в рацион можно что угодно.'
    },
    {
      q: 'Сколько приёмов пищи в день оптимально для снижения веса?',
      a: 'Любое количество. Оптимально от 2 до 4 — так проще контролировать насыщение.'
    },
    {
      q: 'Можно ли есть на ночь (после 18:00) и при этом худеть?',
      a: 'Можно. Важно, сколько ты съел за день, а не во сколько.'
    },
    {
      q: 'Помогает ли интервальное голодание (16/8 и т.д.) быстрее похудеть?',
      a: 'Нет, всё упирается в дефицит калорий. Иногда людям удобно есть в определённый интервал времени — это помогает сократить калории.'
    },
    {
      q: 'Какую диету выбрать для похудения?',
      a: 'Ту, которая хорошо встроится в твой образ жизни и обеспечит оптимальное количество микро- и макронутриентов.'
    },
    {
      q: 'Как придерживаться правильного питания, если часто питаешься вне дома?',
      a: 'Выбирай понятные блюда с хорошей порцией белка и овощей, ешь медленнее, контролируй порции и проси соусы отдельно.'
    },
    {
      q: 'Что лучше съесть перед тренировкой?',
      a: 'То, что хочется и вписывается в твой рацион.'
    },
    {
      q: 'Нужно ли есть сразу после тренировки (анаболическое окно)?',
      a: 'Нет, это миф. Ешь в удобное для тебя время.'
    },
    {
      q: 'Можно ли употреблять алкоголь и при этом худеть?',
      a: 'Можно, но при соблюдении баланса калорий.'
    },
    {
      q: 'Нужны ли спортивные добавки для похудения?',
      a: 'Не нужны.'
    },
    {
      q: 'Что такое читмил и зачем он нужен?',
      a: 'Читмил — это один приём пищи, где ты осознанно позволяешь себе больше вкусного за счёт того, что днём или в предыдущие дни съел меньше. Помогает эмоционально разгрузиться.'
    },
    {
      q: 'Как справляться с чувством голода на диете?',
      a: 'Ешь больше белка и овощей, не кусочничай, ешь медленно и не отвлекайся.'
    },
    {
      q: 'Как побороть тягу к сладкому и вредной еде?',
      a: 'Не запрещай себе — впиши в рацион, если хочется. Иначе будут срывы.'
    },
    {
      q: 'Как быстро можно худеть без вреда?',
      a: 'Примерно 0,5–1% веса в неделю — нормально и безопасно.'
    },
    {
      q: 'Почему вес уходит неравномерно?',
      a: 'Потому что на вес влияет слишком много факторов: переваривание еды, выпитая жидкость, задержка воды, тренировки накануне и многое другое.'
    },
    {
      q: 'Как убрать жир на животе и добиться кубиков?',
      a: 'Снизить общий процент жира, придерживаясь дефицита калорий.'
    }
  ],
  'Тренировки и активность': [
    {
      q: 'Что важнее для похудения — питание или физические нагрузки?',
      a: 'Питание. Но физ. нагрузки помогают ускорить процесс и улучшить здоровье.'
    },
    {
      q: 'Можно ли похудеть без тренировок вообще?',
      a: 'Да, можно, если держать дефицит калорий.'
    },
    {
      q: 'Можно ли похудеть только за счёт тренировок, не меняя питание?',
      a: 'Теоретически да, но на практике это очень тяжело, так как за хорошую тренировку ты сожжёшь примерно 350–400 ккал. Умножь на три похода в неделю — и получишь всего лишь одну целую пиццу. Проще контролировать питание.'
    },
    {
      q: 'Что эффективнее для сжигания жира — кардио или силовые тренировки?',
      a: 'Короткий ответ — кардио. Но на практике следует сочетать и то, и другое. Силовые добавляют мышцы, которые увеличивают твой расход энергии, и ты можешь больше жрать.'
    },
    {
      q: 'Нужно ли делать кардио, чтобы похудеть, и сколько кардио нужно в неделю?',
      a: 'Чтобы похудеть, надо создать дефицит калорий. Кардио не обязательно, но оно полезно.'
    },
    {
      q: 'Стоит ли выполнять кардио натощак для лучшего жиросжигания?',
      a: 'Совсем необязательно — важен общий дефицит калорий за день.'
    },
    {
      q: 'Как лучше тренироваться новичку: сплит-программа или тренировки всего тела?',
      a: 'Фулбади (тренировка всего тела) будет получше, так как можно адекватнее распределить нагрузку в течение недели.'
    },
    {
      q: 'Сколько раз в неделю нужно тренироваться?',
      a: 'Оптимально 2–4 силовых тренировки, плюс активность вне зала.'
    },
    {
      q: 'Нужно ли заниматься каждый день или организовывать дни отдыха?',
      a: 'Новичкам дни отдыха нужны обязательно. Профессионалы могут тренироваться почти каждый день, но с чётким пониманием, как распределить нагрузку за день.'
    },
    {
      q: 'Сколько должна длиться одна тренировка?',
      a: 'В среднем от 40 до 120 минут — всё зависит от программы и твоего уровня.'
    },
    {
      q: 'Какие упражнения самые эффективные для роста мышц?',
      a: 'Те, которые ты выполняешь с прогрессией нагрузки.'
    },
    {
      q: 'Какой диапазон повторений оптимален для гипертрофии мышц?',
      a: 'Оптимальное количество повторений — то, которое ты можешь выполнить технично почти до отказа. Ориентир: от 3 до 20 (в зависимости от группы мышц).'
    },
    {
      q: 'Нужно ли часто менять программу тренировок для прогресса?',
      a: 'Часто — нет. Программу следует менять каждые 10–14 недель.'
    },
    {
      q: 'Следует ли тренироваться до отказа в каждом подходе?',
      a: 'Не обязательно.'
    },
    {
      q: 'Должна ли быть боль в мышцах после тренировки для роста?',
      a: 'Нет. Боль в мышцах — это не обязательный фактор.'
    },
    {
      q: 'Что лучше для мышечного роста — свободные веса или тренажёры?',
      a: 'То, что у тебя есть в доступе. Приоритета нет.'
    },
    {
      q: 'Можно ли накачаться дома, без тренажёрного зала?',
      a: 'Да, если есть возможность прогрессировать в нагрузках (гантели, эспандеры, турник).'
    },
    {
      q: 'Правда ли, что кардио мешает набору мышечной массы?',
      a: 'Может помешать, если его будет реально слишком много. В таком случае мы адаптируем программу под тебя.'
    },
    {
      q: 'Не стану ли я слишком мускулистой, если буду поднимать тяжести? (для девушек)',
      a: 'Нет, случайно раскачаться не получится. Мышцы растут крайне медленно.'
    },
    {
      q: 'Превратятся ли мои мышцы в жир, если я перестану тренироваться?',
      a: 'Нет. Мышцы не превращаются в жир, но требуют стимула (хотя бы раз в неделю для поддержания).'
    },
    {
      q: 'Можно ли одновременно набирать мышечную массу и сжигать жир?',
      a: 'Да, это называется рекомпозиция. Особенно хорошо заметно у новичков.'
    },
    {
      q: 'Как эффективно набрать мышечную массу?',
      a: 'Есть с небольшим профицитом калорий, тренироваться с прогрессией нагрузок и хорошо высыпаться.'
    },
    {
      q: 'Что делать сначала — похудеть ("сушиться") или набрать массу?',
      a: 'Лучше сначала привести организм в здоровый процент жира — 10-15% для мужчин и 18–24% для женщин.'
    },
    {
      q: 'Что делать, если у меня телосложение "skinny fat"?',
      a: 'Начать с силовых тренировок, умеренного дефицита калорий и увеличения белка в рационе.'
    },
    {
      q: 'Сколько шагов в день нужно делать для здоровья и похудения?',
      a: 'Для здоровья и похудения достаточно 6–8 тысяч. Но ты ведь помнишь, что похудение идёт за счёт дефицита калорий? 😊'
    },
    {
      q: 'Что такое метаболическая адаптация и как она влияет на похудение?',
      a: 'Это естественное снижение энергозатрат при длительном дефиците калорий. Чтобы её минимизировать — сохраняй активность, считай шаги, делай силовые и не урезай калории слишком сильно.'
    }
  ],
  'Здоровье и привычки': [
    {
      q: 'Нужно ли спать строго 8 часов?',
      a: 'Нет. Кому-то хватает 7, кому-то нужно 9. Ориентируйся на самочувствие и уровень энергии.'
    },
    {
      q: 'Как улучшить качество сна?',
      a: 'Ложись и вставай в одно и то же время, даже в выходные. Убери свет и гаджеты за час до сна.'
    },
    {
      q: 'Можно ли похудеть при постоянном стрессе?',
      a: 'Можно, но тяжелее. Стресс сбивает сон, повышает аппетит и мешает контролировать питание. Начни с гигиены сна и отдыха.'
    },
    {
      q: 'Как перестать откладывать и начать?',
      a: 'Не жди идеального момента, просто начни. Маленькие ежедневные действия порождают большие изменения.'
    },
    {
      q: 'Как измерять прогресс?',
      a: 'Взвешивайся каждый день и делай замеры объёмов талии, живота, шеи, фото раз в месяц.'
    },
    {
      q: 'Как часто делать замеры и фото?',
      a: 'Замеры — раз в неделю, фото — раз в месяц, желательно в одинаковых условиях.'
    },
    {
      q: 'Зачем нужны отчёты?',
      a: 'Чтобы видеть прогресс, а не гадать «работает ли».'
    },
    {
      q: 'Что делать, если пропустил неделю отчётов?',
      a: 'Просто вернись в ритм и продолжай. Пропуск — это не провал.'
    },
    {
      q: 'Что делать, если врач поставил инсулинорезистентность или диабет 2 типа?',
      a: 'Создай дефицит калорий, добавь белка, активности и силовых тренировок.'
    },
    {
      q: 'Можно ли обратить инсулинорезистентность или диабет 2 типа?',
      a: 'Да. Дефицит калорий с набором белка, силовые тренировки и постоянная активность (шаги каждый день).'
    },
    {
      q: 'Что делать, если работа сидячая?',
      a: 'Вставай и двигайся каждые 60 минут. Броди по офису, наворачивай круги — здоровье важнее неловкости.'
    },
    {
      q: 'Вредно ли кофе?',
      a: 'Нет, в умеренных дозах даже полезно. До 400 мг в день — норм, но не пей за 8–10 часов до сна.'
    },
    {
      q: 'Можно ли тренироваться, если плохо себя чувствуешь?',
      a: 'Лучше отдохни.'
    },
    {
      q: 'Что делать, если переел на праздники?',
      a: 'Вернись к привычному питанию и режиму. Не наказывай себя, просто продолжай план.'
    },
    {
      q: 'Нужно ли полностью исключать алкоголь?',
      a: 'Нет, но лучше сократить до минимума — так тело быстрее восстанавливается.'
    },
    {
      q: 'Как совмещать ночные смены и похудение?',
      a: 'Дефицит калорий работает и ночью. Главное — режим сна, питание и движение.'
    },
    {
      q: 'Как повысить уровень энергии без стимуляторов?',
      a: 'Высыпайся, двигайся, ешь сбалансированно и контролируй стресс.'
    },
    {
      q: 'Как перестать заедать стресс?',
      a: 'Замени еду на прогулку, тренировку, общение или хобби.'
    },
    {
      q: 'Как быстро вернуться в режим после отпуска или командировки?',
      a: 'Верни привычный сон, питание и активность уже в первый день.'
    },
    {
      q: 'Как справляться с хроническим недосыпом?',
      a: 'Пересмотри отношение ко сну и поставь его во главе списка дел и задач.'
    },
    {
      q: 'Стоит ли использовать умные часы и фитнес-трекеры?',
      a: 'Не обязательно, но они помогают лучше контролировать активность и приятно видеть хорошие показатели.'
    },
    {
      q: 'Что делать, если нет мотивации?',
      a: 'Не жди вдохновения. Делай минимальные действия, и мотивация подтянется.'
    }
  ],
  'Условия и гарантии': [
    {
      q: 'Какой минимальный срок ведения?',
      a: 'Минимальный пакет — 2 месяца (8 недель). Потом можно продлевать по 1 месяцу (4 недели).'
    },
    {
      q: 'Как считается срок ведения?',
      a: 'Ведение привязано к неделям: 1 месяц = 4 недели, 2 месяца = 8 недель и так далее.'
    },
    {
      q: 'Когда начинается ведение?',
      a: 'Всегда с понедельника, независимо от того, середина месяца или конец.'
    },
    {
      q: 'Можно ли заморозить ведение?',
      a: 'Да, на любом этапе: командировка, отпуск, свадьба, операция — всё обсуждается отдельно. На время заморозки оплата не взимается.'
    },
    {
      q: 'Можно ли вернуть деньги?',
      a: 'Да, в течение первой недели, если поймёте, что я «не ваш человек». Дальше возврат не предусмотрен.'
    },
    {
      q: 'Есть ли гарантия результата?',
      a: 'Да, при условии, что вы соблюдаете мои рекомендации.'
    },
    {
      q: 'Что делать, если я всё соблюдаю, а результата нет?',
      a: 'Разбираться, где ошибка. Физика не может не работать в нашем мире.'
    },
    {
      q: 'Могу ли я оставаться анонимным?',
      a: 'Да, можете не показывать фото и лицо. Но вес и замеры нужны обязательно — без этого я не смогу контролировать прогресс.'
    },
    {
      q: 'Можно ли оплатить в рассрочку?',
      a: 'Нет. Оплата идёт до начала работы.'
    },
    {
      q: 'Можно ли оплатить наличными?',
      a: 'Да, я в Барселоне, приму оплату лично.'
    },
    {
      q: 'Можно ли оплатить криптовалютой?',
      a: 'Да, без проблем.'
    },
    {
      q: 'Можно ли оплатить в рублях?',
      a: 'Да, принимаю оплату на рублёвые карты.'
    },
    {
      q: 'Можно ли оплатить в € по карте или счёту?',
      a: 'Сейчас нет, но в будущем обязательно будет доступна такая опция.'
    },
    {
      q: 'Откуда я знаю, что вы не шарлатан?',
      a: 'Поработайте со мной и проверьте. Я могу заверить только в том, что работаю честно и по фактам.'
    },
    {
      q: 'У вас есть медицинское образование?',
      a: 'Нет, по образованию я экономист. В питании и тренировках я самоучка, но учусь у лучших в своём деле и постоянно обновляю знания.'
    },
    {
      q: 'Ваши рекомендации могут навредить?',
      a: 'Нет. Я не лезу в медицину и, если вижу, что проблема вне моей компетенции, направляю к врачам доказательной медицины.'
    },
    {
      q: 'Вы точно тренер?',
      a: 'Я чуть больше, чем тренер — health-coach. Это включает расширенные знания о питании, работе с телом и привычками.'
    },
    {
      q: 'Мне кажется, что ты втираешь какую-то дичь!',
      a: 'Тебе кажется. В мире слишком информации и да, огромная часть из неё — полный бред. Я умею отделять фейки от фактов и делюсь этим с клиентами.'
    }
  ]
};

const categoryIcons: Record<keyof typeof faqData, string> = {
  'Питание и похудение': nutritionIcon,
  'Тренировки и активность': trainingIcon,
  'Здоровье и привычки': healthIcon,
  'Условия и гарантии': termsIcon
};

const faqEntries = Object.entries(faqData) as [keyof typeof faqData, (typeof faqData)[keyof typeof faqData]][];
---

<Layout title="FAQ - Часто задаваемые вопросы | Влад Хелс-коуч">
	<section class="faq-hero">
		<div class="container">
			<h1>Часто задаваемые вопросы</h1>
			<p>Собрал самые популярные вопросы, которые мне задают клиенты</p>
		</div>
	</section>

	<section class="faq-content">
		<div class="container">
			{faqEntries.map(([category, questions]) => (
				<div class="faq-category">
					<button class="category-title" type="button">
						<div class="category-header">
							<img src={categoryIcons[category]} alt={category} class="category-icon" width="32" height="32">
							<span class="category-text">{category}</span>
						</div>
						<span class="category-toggle-icon">+</span>
					</button>
					<div class="questions-list">
					{questions.map((item) => (
						<div class="faq-item">
								<button class="faq-question" type="button">
									<span class="question-text">{item.q}</span>
									<span class="toggle-icon">+</span>
								</button>
								<div class="faq-answer">
									<p>{item.a}</p>
								</div>
							</div>
						))}
					</div>
				</div>
			))}
		</div>
	</section>

	<section class="faq-question-cta">
		<div class="container">
			<div class="cta-content">
				<h2>Не нашёл ответ на свой вопрос?</h2>
				<button class="cta-button primary" onclick="openQuestionModal()">Задать вопрос</button>
			</div>
		</div>
	</section>

	<section class="faq-cta">
		<div class="container">
			<div class="cta-content">
				<div class="cta-buttons">
					<a href={getLink('')} class="cta-button secondary">Вернуться на главную</a>
					<a href={getLink('services')} class="cta-button secondary">Мои услуги</a>
					<a href={getLink('about')} class="cta-button secondary">Обо мне</a>
				</div>
			</div>
		</div>
	</section>
</Layout>

<style>
	.faq-hero {
		background: rgb(244, 240, 233);
		color: var(--text-color);
		padding: 60px 0 60px;
		text-align: center;
		border-bottom: 1px solid var(--border-color);
	}

	.faq-hero h1 {
		font-size: 2.5rem;
		font-weight: 300;
		margin-bottom: 15px;
	}

	.faq-hero p {
		font-size: 1.2rem;
		opacity: 0.9;
	}

	.container {
		max-width: 1000px;
		margin: 0 auto;
		padding: 0 20px;
	}

	.faq-content {
		padding: 80px 0 0;
		background: white;
	}

	.faq-category {
		margin-bottom: 50px;
	}

	.faq-category:last-child {
		margin-bottom: 0;
	}

	.category-title {
		width: 100%;
		font-size: 2rem;
		font-weight: 300;
		color: var(--accent-copper);
		margin-bottom: 30px;
		padding: 20px 25px;
		background: white;
		border: 1px solid var(--border-color);
		border-radius: 2px;
		cursor: pointer;
		display: flex;
		justify-content: space-between;
		align-items: center;
		transition: opacity 0.3s ease;
	}

	.category-title:hover {
		opacity: 0.9;
	}

	.category-header {
		display: flex;
		align-items: center;
		gap: 15px;
		flex: 1;
	}

	.category-icon {
		flex-shrink: 0;
	}

	.category-text {
		flex: 1;
		text-align: left;
		color: var(--text-color);
	}

	.category-toggle-icon {
		font-size: 1.8rem;
		font-weight: 300;
		color: var(--accent-copper);
		transition: transform 0.3s ease;
		flex-shrink: 0;
		margin-left: 20px;
	}

	.faq-category.active .category-toggle-icon {
		transform: rotate(45deg);
	}

	.questions-list {
		display: flex;
		flex-direction: column;
		gap: 15px;
		max-height: 0;
		overflow: hidden;
		transition: max-height 0.4s ease, padding 0.4s ease;
		padding: 0;
	}

	.faq-category.active .questions-list {
		max-height: 2000px;
		padding-top: 20px;
	}

	.faq-item {
		background: var(--bg-warm);
		border-radius: 2px;
		overflow: hidden;
		border: 1px solid var(--border-color);
		transition: opacity 0.3s ease;
	}

	.faq-item:hover {
		opacity: 0.95;
	}

	.faq-question {
		width: 100%;
		padding: 20px 25px;
		background: none;
		border: none;
		text-align: left;
		cursor: pointer;
		font-size: 1.1rem;
		font-weight: 400;
		color: var(--text-color);
		display: flex;
		justify-content: space-between;
		align-items: center;
		transition: opacity 0.3s ease;
	}

	.faq-question:hover {
		opacity: 0.9;
	}

	.question-text {
		flex: 1;
		margin-right: 20px;
	}

	.toggle-icon {
		font-size: 1.5rem;
		font-weight: 300;
		color: var(--accent-copper);
		transition: transform 0.3s ease;
		flex-shrink: 0;
	}

	.faq-item.active .toggle-icon {
		transform: rotate(45deg);
	}

	.faq-answer {
		max-height: 0;
		overflow: hidden;
		transition: max-height 0.3s ease;
	}

	.faq-item.active .faq-answer {
		max-height: 200px;
	}

	.faq-answer p {
		padding: 15px 25px 20px;
		margin: 0;
		color: var(--text-light);
		line-height: 1.6;
	}

	.faq-question-cta {
		background: white;
		padding: 40px 0 60px;
		text-align: center;
	}

	.faq-question-cta .cta-content h2 {
		font-size: 2rem;
		font-weight: 300;
		color: var(--text-color);
		margin-top: 0;
		margin-bottom: 30px;
	}

	.faq-cta {
		background: rgb(244, 240, 233);
		padding: 80px 0;
		text-align: center;
		border-top: 1px solid var(--border-color);
	}

	.cta-buttons {
		display: flex;
		gap: 20px;
		justify-content: center;
		align-items: center;
		flex-wrap: wrap;
	}

	.cta-button {
		display: inline-block;
		padding: 12px 30px;
		border-radius: 2px;
		text-decoration: none;
		font-weight: 500;
		font-size: 13px;
		text-transform: uppercase;
		letter-spacing: 1px;
		transition: background-color 0.3s ease, color 0.3s ease;
	}

	.cta-button.primary {
		background: var(--text-color);
		color: white;
		border: 1px solid var(--text-color);
		cursor: pointer;
		font-family: inherit;
	}

	.cta-button.primary:hover {
		background: var(--accent-copper);
		color: white;
		border-color: var(--accent-copper);
	}

	.cta-button.secondary {
		background: transparent;
		color: var(--text-color);
		border: 1px solid var(--text-color);
	}

	.cta-button.secondary:hover {
		background: var(--accent-copper);
		color: white;
		border-color: var(--accent-copper);
	}

	@media (max-width: 768px) {
		.faq-hero h1 {
			font-size: 2rem;
		}

		.faq-hero p {
			font-size: 1rem;
		}

		.category-title {
			font-size: 1.6rem;
			padding: 15px 20px;
		}

		.category-text {
			margin-right: 15px;
		}

		.category-toggle-icon {
			font-size: 1.6rem;
			margin-left: 15px;
		}

		.faq-question {
			padding: 15px 20px;
			font-size: 1rem;
		}

		.question-text {
			margin-right: 15px;
		}

		.faq-answer p {
			padding: 0 20px 15px;
			font-size: 0.95rem;
		}

		.faq-question-cta .cta-content h2 {
			font-size: 1.6rem;
		}

		.cta-buttons {
			flex-direction: column;
			align-items: center;
			gap: 15px;
		}

		.cta-button {
			width: 100%;
			max-width: 280px;
		}
	}
</style>

<script is:inline>
	document.addEventListener('DOMContentLoaded', function() {
		// FAQ Categories functionality
		const faqCategories = document.querySelectorAll('.faq-category');
		
		faqCategories.forEach(category => {
			const categoryTitle = category.querySelector('.category-title');
			
			categoryTitle.addEventListener('click', () => {
				category.classList.toggle('active');
			});
		});

		// FAQ Items functionality
		const faqItems = document.querySelectorAll('.faq-item');
		
		faqItems.forEach(item => {
			const question = item.querySelector('.faq-question');
			const answer = item.querySelector('.faq-answer');
			
			question.addEventListener('click', () => {
				const isActive = item.classList.contains('active');
				
				// Закрываем все остальные FAQ внутри той же категории
				const parentCategory = item.closest('.faq-category');
				const siblingItems = parentCategory.querySelectorAll('.faq-item');
				
				siblingItems.forEach(otherItem => {
					if (otherItem !== item) {
						otherItem.classList.remove('active');
					}
				});
				
				// Переключаем текущий FAQ
				if (isActive) {
					item.classList.remove('active');
				} else {
					item.classList.add('active');
				}
			});
		});
	});

	// Функция уже определена в Layout.astro, здесь только вызов
	// openQuestionModal() доступна глобально
</script>